import{d as h,a as B,q as L}from"./DataKey-N3U1ILTk.js";import{r as l,j as g}from"./index-w5WXYR20.js";import{u as _,a as U}from"./useEventCallback-cqNgmRpt.js";import{B as k}from"./Button-MA_ylKNZ.js";function W(){const[,e]=l.useReducer(o=>!o,!1);return e}const N=l.createContext(null),R=(e,o=null)=>e!=null?String(e):o||null,S=l.createContext(null);S.displayName="NavContext";const A=S,F=l.createContext(null),$=F,M=["as","active","eventKey"];function V(e,o){if(e==null)return{};var a={},c=Object.keys(e),n,t;for(t=0;t<c.length;t++)n=c[t],!(o.indexOf(n)>=0)&&(a[n]=e[n]);return a}function Y({key:e,onClick:o,active:a,id:c,role:n,disabled:t}){const v=l.useContext(N),d=l.useContext(A),x=l.useContext($);let f=a;const r={role:n};if(d){!n&&d.role==="tablist"&&(r.role="tab");const i=d.getControllerId(e??null),C=d.getControlledId(e??null);r[h("event-key")]=e,r.id=i||c,f=a==null&&e!=null?d.activeKey===e:a,(f||!(x!=null&&x.unmountOnExit)&&!(x!=null&&x.mountOnEnter))&&(r["aria-controls"]=C)}return r.role==="tab"&&(r["aria-selected"]=f,f||(r.tabIndex=-1),t&&(r.tabIndex=-1,r["aria-disabled"]=!0)),r.onClick=_(i=>{t||(o==null||o(i),e!=null&&v&&!i.isPropagationStopped()&&v(e,i))}),[r,{isActive:f}]}const D=l.forwardRef((e,o)=>{let{as:a=k,active:c,eventKey:n}=e,t=V(e,M);const[v,d]=Y(Object.assign({key:R(n,t.href),active:c},t));return v[h("active")]=d.isActive,g.jsx(a,Object.assign({},t,v,{ref:o}))});D.displayName="NavItem";const z=D,G=["as","onSelect","activeKey","role","onKeyDown"];function H(e,o){if(e==null)return{};var a={},c=Object.keys(e),n,t;for(t=0;t<c.length;t++)n=c[t],!(o.indexOf(n)>=0)&&(a[n]=e[n]);return a}const w=()=>{},E=h("event-key"),P=l.forwardRef((e,o)=>{let{as:a="div",onSelect:c,activeKey:n,role:t,onKeyDown:v}=e,d=H(e,G);const x=W(),f=l.useRef(!1),r=l.useContext(N),i=l.useContext($);let C,y;i&&(t=t||"tablist",n=i.activeKey,C=i.getControlledId,y=i.getControllerId);const m=l.useRef(null),K=s=>{const u=m.current;if(!u)return null;const b=L(u,`[${E}]:not([aria-disabled=true])`),I=u.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const O=b.indexOf(I);if(O===-1)return null;let p=O+s;return p>=b.length&&(p=0),p<0&&(p=b.length-1),b[p]},j=(s,u)=>{s!=null&&(c==null||c(s,u),r==null||r(s,u))},T=s=>{if(v==null||v(s),!i)return;let u;switch(s.key){case"ArrowLeft":case"ArrowUp":u=K(-1);break;case"ArrowRight":case"ArrowDown":u=K(1);break;default:return}u&&(s.preventDefault(),j(u.dataset[B("EventKey")]||null,s),f.current=!0,x())};l.useEffect(()=>{if(m.current&&f.current){const s=m.current.querySelector(`[${E}][aria-selected=true]`);s==null||s.focus()}f.current=!1});const q=U(o,m);return g.jsx(N.Provider,{value:j,children:g.jsx(A.Provider,{value:{role:t,activeKey:R(n),getControlledId:C||w,getControllerId:y||w},children:g.jsx(a,Object.assign({},d,{onKeyDown:T,ref:q,role:t}))})})});P.displayName="Nav";const ee=Object.assign(P,{Item:z});export{ee as B,A as N,N as S,Y as a,R as m,W as u};
