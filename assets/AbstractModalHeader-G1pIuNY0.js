import{r as s,j as l,K as xe}from"./index-7m9_wtS-.js";import{g as S,o as J,s as p,l as U,C as Ce}from"./CloseButton-xzdnOOHB.js";import{u as h,a as Q}from"./useEventCallback-zqt-gLoP.js";import{d as Me,q as E}from"./DataKey-N3U1ILTk.js";function et(){return s.useState(null)}function we(){const e=s.useRef(!0),t=s.useRef(()=>e.current);return s.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Oe(e){const t=s.useRef(null);return s.useEffect(()=>{t.current=e}),t.current}const ke=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Ne=typeof document<"u",$=Ne||ke?s.useLayoutEffect:s.useEffect;function Ae(e){const t=s.useRef(e);return t.current=e,t}function je(e){const t=Ae(e);s.useEffect(()=>()=>t.current(),[])}function X(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Z=s.createContext(S?window:void 0);Z.Provider;function D(){return s.useContext(Z)}function A(e){e===void 0&&(e=J());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Be(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Y=Me("modal-open");class Le{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Be(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[r]:o.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(p(o,r)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(Y,""),p(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Y),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const F=Le,j=(e,t)=>S?e==null?(t||J()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Se(e,t){const n=D(),[r,o]=s.useState(()=>j(e,n==null?void 0:n.document));if(!r){const i=j(e);i&&o(i)}return s.useEffect(()=>{t&&r&&t(r)},[t,r]),s.useEffect(()=>{const i=j(e);i!==r&&o(i)},[e,r]),r}function De({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:o}){const i=s.useRef(null),d=s.useRef(t),f=h(n);s.useEffect(()=>{t?d.current=!0:f(i.current)},[t,f]);const g=Q(i,e.ref),c=s.cloneElement(e,{ref:g});return t?c:o||!d.current&&r?null:c}function Fe({in:e,onTransition:t}){const n=s.useRef(null),r=s.useRef(!0),o=h(t);return $(()=>{if(!n.current)return;let i=!1;return o({in:e,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[e,o]),$(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function We({children:e,in:t,onExited:n,onEntered:r,transition:o}){const[i,d]=s.useState(!t);t&&i&&d(!1);const f=Fe({in:!!t,onTransition:c=>{const R=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(d(!0),n==null||n(c.element)))};Promise.resolve(o(c)).then(R,x=>{throw c.in||d(!0),x})}}),g=Q(f,e.ref);return i&&!t?null:s.cloneElement(e,{ref:g})}function q(e,t,n){return e?l.jsx(e,Object.assign({},n)):t?l.jsx(We,Object.assign({},n,{transition:t})):l.jsx(De,Object.assign({},n))}function Ie(e){return e.code==="Escape"||e.keyCode===27}const Ke=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _e(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}let B;function He(e){return B||(B=new F({ownerDocument:e==null?void 0:e.document})),B}function Pe(e){const t=D(),n=e||He(t),r=s.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:s.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:s.useCallback(o=>{r.current.backdrop=o},[])})}const ee=s.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:o,style:i,children:d,backdrop:f=!0,keyboard:g=!0,onBackdropClick:c,onEscapeKeyDown:R,transition:x,runTransition:te,backdropTransition:ne,runBackdropTransition:re,autoFocus:se=!0,enforceFocus:oe=!0,restoreFocus:ie=!0,restoreFocusOptions:ae,renderDialog:W,renderBackdrop:ue=a=>l.jsx("div",Object.assign({},a)),manager:ce,container:le,onShow:I,onHide:K=()=>{},onExit:de,onExited:_,onExiting:fe,onEnter:he,onEntering:ge,onEntered:me}=e,Ee=_e(e,Ke);const m=D(),b=Se(le),u=Pe(ce),ve=we(),pe=Oe(n),[C,H]=s.useState(!n),y=s.useRef(null);s.useImperativeHandle(t,()=>u,[u]),S&&!pe&&n&&(y.current=A(m==null?void 0:m.document)),n&&C&&H(!1);const P=h(()=>{if(u.add(),O.current=U(document,"keydown",ye),w.current=U(document,"focus",()=>setTimeout(Re),!0),I&&I(),se){var a,G;const N=A((a=(G=u.dialog)==null?void 0:G.ownerDocument)!=null?a:m==null?void 0:m.document);u.dialog&&N&&!X(u.dialog,N)&&(y.current=N,u.dialog.focus())}}),M=h(()=>{if(u.remove(),O.current==null||O.current(),w.current==null||w.current(),ie){var a;(a=y.current)==null||a.focus==null||a.focus(ae),y.current=null}});s.useEffect(()=>{!n||!b||P()},[n,b,P]),s.useEffect(()=>{C&&M()},[C,M]),je(()=>{M()});const Re=h(()=>{if(!oe||!ve()||!u.isTopModal())return;const a=A(m==null?void 0:m.document);u.dialog&&a&&!X(u.dialog,a)&&u.dialog.focus()}),be=h(a=>{a.target===a.currentTarget&&(c==null||c(a),f===!0&&K())}),ye=h(a=>{g&&Ie(a)&&u.isTopModal()&&(R==null||R(a),a.defaultPrevented||K())}),w=s.useRef(),O=s.useRef(),Te=(...a)=>{H(!0),_==null||_(...a)};if(!b)return null;const V=Object.assign({role:r,ref:u.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ee,{style:i,className:o,tabIndex:-1});let k=W?W(V):l.jsx("div",Object.assign({},V,{children:s.cloneElement(d,{role:"document"})}));k=q(x,te,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:de,onExiting:fe,onExited:Te,onEnter:he,onEntering:ge,onEntered:me,children:k});let T=null;return f&&(T=ue({ref:u.setBackdropRef,onClick:be}),T=q(ne,re,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:T})),l.jsx(l.Fragment,{children:xe.createPortal(l.jsxs(l.Fragment,{children:[T,k]}),b)})});ee.displayName="Modal";const tt=Object.assign(ee,{Manager:F});function Ve(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ge(e,t){e.classList?e.classList.add(t):Ve(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function z(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ue(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=z(e.className,t):e.setAttribute("class",z(e.className&&e.className.baseVal||"",t))}const v={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class $e extends F{adjustAndStore(t,n,r){const o=n.style[t];n.dataset[t]=o,p(n,{[t]:`${parseFloat(p(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],p(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Ge(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";E(n,v.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,t.scrollBarWidth)),E(n,v.STICKY_CONTENT).forEach(i=>this.adjustAndStore(o,i,-t.scrollBarWidth)),E(n,v.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(o,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Ue(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";E(n,v.FIXED_CONTENT).forEach(i=>this.restore(r,i)),E(n,v.STICKY_CONTENT).forEach(i=>this.restore(o,i)),E(n,v.NAVBAR_TOGGLER).forEach(i=>this.restore(o,i))}}let L;function nt(e){return L||(L=new $e(e)),L}const Xe=s.createContext({onHide(){}}),Ye=Xe,qe=s.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:o,...i},d)=>{const f=s.useContext(Ye),g=h(()=>{f==null||f.onHide(),r==null||r()});return l.jsxs("div",{ref:d,...i,children:[o,n&&l.jsx(Ce,{"aria-label":e,variant:t,onClick:g})]})}),rt=qe;export{rt as A,tt as B,Ye as M,et as a,D as b,X as c,Oe as d,$ as e,$e as f,nt as g,je as h,we as u};
